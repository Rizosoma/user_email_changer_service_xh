# User Email Changer Service

## Изменения относительно первоначального варианта

Были сделаны следующие изменения относительно первоначального варианта:

1. **Добавление слушателей:** В классе `UserEmailChangerService` добавлен массив слушателей и метод `addListener()`. Так мы сможем уведомлять разные компоненты системы об изменении адреса электронной почты пользователя. Эти слушатели могут использоваться для отправки уведомлений, логирования и других действий.

2. **Использование транзакций:** В методе `changeEmail()` теперь используются транзакции для обеспечения целостности данных.

3. **Запрос с FOR UPDATE:** В методе `getUserEmailById()` в запрос SQL добавлен `FOR UPDATE`, чтобы заблокировать строку с пользователем для других транзакций, пока текущая транзакция не будет завершена.
